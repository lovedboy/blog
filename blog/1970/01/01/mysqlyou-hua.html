<!DOCTYPE html>
<html lang="en">
<head>
          <title></title>
	    <link href='https://lovedboy.github.io/theme/css/notsobad.css' rel='stylesheet' type='text/css'>


        <meta charset="utf-8" />
        <link href="https://lovedboy.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title=" Full Atom Feed" />
        <link href="https://lovedboy.github.io/feeds/misc.atom.xml" type="application/atom+xml" rel="alternate" title=" Categories Atom Feed" />




</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://lovedboy.github.io/"> <strong></strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li><a href="/">home</a></li>
            <li><a href="/">links</a></li>
            <li><a href="/">about</a></li>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="https://lovedboy.github.io/blog/1970/01/01/mysqlyou-hua.html" rel="bookmark"
         title="Permalink to mysql优化">mysql优化</a>
		 
    <abbr class="published" title="1970-01-01T00:00:00+08:00">
      1970-01-01 00:00
    </abbr>
		 </h2>
 
  </header>
    <div class="entry-content">
    <h2>基本的分析命令</h2>
<ul>
<li>EXPLAIN</li>
<li>SHOW CREATE TABLE </li>
<li>SHOW INDEXES</li>
<li>SHOW TABLE STATUS</li>
<li>SHOW STATUS</li>
<li>SHOW FULL PROCESSLIS</li>
</ul>
<h2>索引</h2>
<ul>
<li>单列索引</li>
<li>聚合索引</li>
<li>覆盖索引</li>
<li>局部索引</li>
</ul>
<h2>优化建议</h2>
<ul>
<li>删除重复索引。比如有了聚合索引(a,b,c)，就不需要单列索引(a)</li>
<li>开启慢查询log。</li>
<li>Limit 1。当只需要一条数据时使用Limit 1。</li>
<li>无符号数。其实更多的时候你需要的是无符号数。</li>
<li>CHAR or VARCHAR。如果字段是不怎么可变的，比如不超过20个字节，那就用CHAR吧。</li>
<li>ENUM。当需要表示一些状态或者特征码的时候适合用这个。比如订单状态、性别。</li>
<li>尽可能的NOT NULL。</li>
<li>IP地址用无符号INT。</li>
<li>删除重复的sql语句。比如查询10个ID的数据，用IN查询，而不要循环去查。</li>
<li>重写子查询。连接查询往往比子查询效率更高。</li>
<li>缓存。mysql缓存或者在应用层做缓存。</li>
<li>避免select *。不必要的网络开销，会使覆盖索引失效。</li>
<li>不要 ORDER BY RAND()。</li>
</ul>
<h2>最后</h2>
<p>EXPLAIN大法好。</p>
  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                By <a href="http://github.com/lovedboy" target="_blank">@lovedb0y</a>
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>